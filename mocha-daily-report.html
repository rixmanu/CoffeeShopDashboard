<!DOCTYPE html>
<html>
<head>
  <title>Mocha Daily Report</title>
  <style>
    body { font-family: sans-serif; background: #263238; color: #fff; padding: 40px; }
    input, button { padding: 10px; margin: 5px; border-radius: 6px; border: none; }
    input { width: 200px; }
    button { background: #ff7043; color: white; cursor: pointer; }
  </style>
</head>
<body>
  <h1>‚òï Mocha Daily Report</h1>

  <div>
    <input id="username" placeholder="Username" />
    <input id="password" type="password" placeholder="Password" />
  </div>

  <div>
    <input id="reportedBy" placeholder="Reported By" />
    <input id="openTime" type="time" />
    <input id="closeTime" type="time" />
  </div>

  <div>
    <input id="todaySale" placeholder="Today Sale (USD)" />
    <input id="todayExpense" placeholder="Today Expense (USD)" />
    <input id="mtdSale" placeholder="MTD Sale (USD)" />
    <input id="mtdExpense" placeholder="MTD Expense (USD)" />
  </div>

  <button onclick="submitReport()">üì§ Submit Report</button>

  <script>
    function submitReport() {
      const payload = {
        username: document.getElementById("username").value,
        password: document.getElementById("password").value,
        reportedBy: document.getElementById("reportedBy").value,
        openTime: document.getElementById("openTime").value,
        closeTime: document.getElementById("closeTime").value,
        todaySale: parseFloat(document.getElementById("todaySale").value) || 0,
        todayExpense: parseFloat(document.getElementById("todayExpense").value) || 0,
        mtdSale: parseFloat(document.getElementById("mtdSale").value) || 0,
        mtdExpense: parseFloat(document.getElementById("mtdExpense").value) || 0
      };

      fetch("https://script.google.com/macros/s/AKfycbzffOeGB3R12O8qh64107dHdcqLw1xpyzKVDE_kgpcVm2jXLsR-L1VlOtLgtwLkbJUFCQ/exec", {
        method: "POST",
        body: JSON.stringify(payload),
        headers: { "Content-Type": "application/json" }
      })
      .then(res => res.text())
      .then(msg => {
        if (msg === "Unauthorized") {
          alert("‚ùå Invalid username or password");
        } else {
          alert("‚úÖ Report submitted!");
          document.querySelectorAll("input").forEach(i => i.value = "");
        }
      })
      .catch(err => {
        console.error(err);
        alert("‚ùå Failed to submit");
      });
    }
  </script>
</body>
</html>
